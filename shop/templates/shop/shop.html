{% extends "accounts/master.html" %}
{% load static %}
{% block content %}
<div class="container mt-5 pb-5">
{% if messages %}
  {% for message in messages %}
    {% if message.tags == 'success' %}
    <div class="position-absolute start-0 w-100 fs-5 text-center py-2 text-white" style="background-color: #006400;">
        {{message}}
    </div>
  {% endif %}
  {% endfor %}
{% endif %}
  <div class="row">
    <!-- categories -->
    <div class="col-md-3">
      <p
        class="fs-2 text-secondary border-bottom border-2 pb-1 pe-5 border-warning"
        style="font-family: 'Roboto Condensed', sans-serif"
      >
        categories
      </p>

      <div
        class="d-flex flex-column text-decoration-underline text-secondary mt-4"
      >
        <div class="border-bottom border-2 pb-3">
          <p class="fs-5">Laptops</p>
          {% for sub_category in sub_categories %}
            {% if sub_category.category.name == 'Laptops' %}
            <ul class="d-flex flex-column list-unstyled ms-3">
              <li>
                <a href="{% url "shop" %}?sub_category={{sub_category.name}}" class="text-secondary">
                  {{sub_category.name}}
                </a>
              </li>
            </ul>
            {% endif %}
          {% endfor %}
          {% comment %} <a href="{% url "shop" %}?sub_category=gaming_laptops" class="form-check ms-3 text-secondary">
            <input
              class="form-check-input"
              type="checkbox"
              value=""
              id="gaming_laptops"
            />
            <label class="form-check-label" for="gaming_laptops">
              Gaming Laptops
            </label>
          </a>
          <a href="{% url "shop" %}?sub_category=business_laptops" class="form-check ms-3 text-secondary">
            <input
              class="form-check-input"
              type="checkbox"
              value=""
              id="business_laptops"
            />
            <label class="form-check-label" for="business_laptops">
              Business Laptops
            </label>
          </a>
          <a href="{% url "shop" %}?sub_category=ultrabooks" class="form-check ms-3 text-secondary">
            <input
              class="form-check-input"
              type="checkbox"
              value=""
              id="ultrabooks"
            />
            <label class="form-check-label" for="ultrabooks">
              Ultra books
            </label>
          </a> {% endcomment %}
        </div>
        <div class="border-bottom border-2 pb-3 mt-3">
          <p class="fs-5">Desktops</p>
          {% for sub_category in sub_categories %}
            {% if sub_category.category.name == 'Desktops' %}
              <ul class="d-flex flex-column list-unstyled ms-3">
                <li>
                  <a href="{% url "shop" %}?sub_category={{sub_category.name}}" class="text-secondary">
                    {{sub_category.name}}
                  </a>
                </li>
              </ul>
            {% endif %}
          {% endfor %}
          {% comment %} <div class="form-check ms-3">
            <input
              class="form-check-input"
              type="checkbox"
              value=""
              id="gaming_desktops"
            />
            <label class="form-check-label" for="gaming_desktops">
              Gaming Desktops
            </label>
          </div>
          <div class="form-check ms-3">
            <input
              class="form-check-input"
              type="checkbox"
              value=""
              id="all_in_one_computers"
            />
            <label class="form-check-label" for="all_in_one_computers">
              All-In-One Computers
            </label>
          </div>
          <div class="form-check ms-3">
            <input
              class="form-check-input"
              type="checkbox"
              value=""
              id="business_desktops"
            />
            <label class="form-check-label" for="business_desktops">
              Business Desktops
            </label>
          </div> {% endcomment %}
        </div>
        <div class="border-bottom border-2 pb-3 mt-3">
          <p class="fs-5">Accessories</p>
          {% for sub_category in sub_categories %}
            {% if sub_category.category.name == 'Accessories' %}
            <ul class="d-flex flex-column list-unstyled ms-3">
              <li>
                <a href="{% url "shop" %}?sub_category={{sub_category.name}}" class="text-secondary">
                  {{sub_category.name}}
                </a>
              </li>
            </ul>
            {% endif %}
          {% endfor %}
          {% comment %} <div class="form-check ms-3">
            <input
              class="form-check-input"
              type="checkbox"
              value=""
              id="laptops_bags_cases"
            />
            <label class="form-check-label" for="laptops_bags_cases">
              Laptop Bags and Cases
            </label>
          </div>
          <div class="form-check ms-3">
            <input
              class="form-check-input"
              type="checkbox"
              value=""
              id="external_hard_drives"
            />
            <label class="form-check-label" for="external_hard_drives">
              External Hard Drives
            </label>
          </div>
          <div class="form-check ms-3">
            <input
              class="form-check-input"
              type="checkbox"
              value=""
              id="usb_flash_drives"
            />
            <label class="form-check-label" for="usb_flash_drives">
              USB Flash Drives
            </label>
          </div>
          <div class="form-check ms-3">
            <input
              class="form-check-input"
              type="checkbox"
              value=""
              id="headsets_speakers"
            />
            <label class="form-check-label" for="headsets_speakers">
              Headsets and Speakers
            </label>
          </div> {% endcomment %}
        </div>
      </div>
    </div>
    <!-- right section -->
    <div class="col-md-8 d-flex flex-column ms-5">
      <div class="d-flex justify-content-between mt-3">
        <div class="d-flex">
          <div class="dropdown ms-2">
            <a class="btn border border-2 dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              Sort by:
            </a>
            <ul class="dropdown-menu">
              <li><a href="{% url "shop" %}" class="dropdown-item">Default</a></li>
              <li><a href="{% url "shop" %}?sortby=newest_to_oldest" class="dropdown-item">Newest to Oldest</a></li>
              <li><a href="{% url "shop" %}?sortby=newest_to_oldest" class="dropdown-item">Newest to Oldest</a></li>
              <li><a href="{% url "shop" %}?sortby=oldest_to_newest" class="dropdown-item">Oldest to Newest</a></li>
              <li><a href="{% url "shop" %}?sortby=highest_to_lowest" class="dropdown-item">Highest to Lowest Price</a></li>
              <li><a href="{% url "shop" %}?sortby=lowest_to_highest" class="dropdown-item">Lowest to Highest Price</a></li>
            </ul>
          </div>
        </div>
        <div class="text-secondary d-flex">
          Show:
          <ul class="text-secondary list-unstyled d-flex ps-2 gap-2 ">
            {% if page_obj.has_previous %}
              <a class="text-decoration-none text-secondary" href="?page={{page_obj.previous_page_number}}"><<</a>
            {% endif %}
            {% for item in pagination_numbers %}
              <a href="?page={{item}}" class="text-decoration-none text-secondary">{{item}}</a>
            {% endfor %}
            {% if page_obj.has_next %}
              <a class="text-decoration-none text-secondary" href="?page={{page_obj.next_page_number}}">>></a>
            {% endif %}
          </ul>
          {% comment %} <ul class="text-secondary list-unstyled d-flex ps-2 gap-2 ">
            <a href="{% url "shop" %}?show=9" class="text-decoration-none text-secondary">9</a>
            <a class="text-decoration-none text-secondary" href="{% url "shop" %}?show=18">18</a>
            <a class="text-decoration-none text-secondary" href="{% url "shop" %}?show=27">27</a>
            <a class="text-decoration-none text-secondary" href="{% url "shop" %}?show=36">36</a>
          </ul> {% endcomment %}
        </div>
      </div>
      
      <div class="row mt-5">
        {% for product in page_obj %}
          <a href="{% url "single_product" product.slug %}" class="text-center col col-md-4 text-decoration-none">
            <img src="{{product.image.url}}"
            style="width: 150px; height: 100px;" alt="de">
            <div
              class="text-center mt-2 text-secondary fs-5">
              <div>{{product.name}}</div>
              <div class="fs-4 mt-2">${{product.price}}</div>
            </div>
          </a>
        {% endfor %}
      </div>
    </div>
  </div>
</div>
{% endblock content %}
